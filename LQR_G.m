Deq=2.6*10^-3;
Dr=20.66;
Dv=6.28;
ML=1.5;
MTL=1.73;
Mcl=8.4;
MbeltcL=0.05;
MbeltL=0.1;
Mr=0.05;
Rp=0.024;
Jeq=7.39;
Kr=600;
Kv=700;
l=0.7;
VR=20;
g=9.81;

A = [0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0,
0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0,
0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0,
0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0,
0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0,
0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0,
0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0,
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1,
0 0 0 0 0 0 0 0 -Deq/Jeq 0 0 0 0 0 0 0,
0 -Kr/ML 0 0 0 Kr/ML 0 0 0 -Dr/ML 0 0 0 Dr/ML 0 0,
0 0 -Kv/MTL 0 0 0 Kv/MTL 0 0 0 -Dv/MTL 0 0 0 Dv/MTL 0,
0 0 0 -Kv/Mcl 0 0 0 Kv/Mcl 0 0 0 -Dv/Mcl 0 0 0 Dv/Mcl,
0 0 Kv/(MTL*l) 0 g/l 0 -Kv/(MTL*l) 0 0 0 Dv/(MTL*l) 0 0 0 -Dv/(MTL*l) 0,
0 Kr/Mr 0 0 0 -Kr/Mr 0 0 0 Dr/Mr 0 0 0 -Dr/Mr 0 0,
0 0 Kv/MbeltL 0 0 0 -Kv/MbeltL 0 0 0 Dv/MbeltL 0 0 0 -Dv/MbeltL 0,
0 0 0 Kv/MbeltcL 0 0 0 -Kv/MbeltcL 0 0 0 Dv/MbeltcL 0 0 0 -Dv/MbeltcL];

B = [0 0 0 0,
    0 0 0 0,
    0 0 0 0,
    0 0 0 0,
    0 0 0 0,
    0 0 0 0,
    0 0 0 0,
    0 0 0 0,
    VR/Jeq 0 0 0,
    0 0 0 0,
    0 0 0 0,
    0 0 0 0,
    0 0 0 0,
    0 2/(Rp*Mr) 0 0,
    0 0 1/(Rp*MbeltL) 0,
    0 0 0 1/(Rp*MbeltcL)];



C = [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0,
    0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0,
    0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0,
    0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0;
    0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0,
    0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0,
    0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0,
    0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0];

D = [0 0 0 0,
    0 0 0 0,
    0 0 0 0,
    0 0 0 0;
    0 0 0 0,
    0 0 0 0,
    0 0 0 0,
    0 0 0 0]
Q= [
    1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
    0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
    0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0;
    0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0;
    0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0;
    0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0;
    0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0;
    0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0;
    0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0;
    0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0;
    0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0;
    0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0;
    0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0;
    0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0;
    0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0;
    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1;
    ];
R=[1 0 0 0;
    0 1.2 0 0;
    0 0 1.3 0;
    0 0 0 1.3];
K=lqr(A,B,Q,R);
